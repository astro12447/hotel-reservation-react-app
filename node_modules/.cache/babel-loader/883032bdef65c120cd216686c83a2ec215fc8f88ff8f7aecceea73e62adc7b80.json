{"ast":null,"code":"var _jsxFileName = \"/Users/ismaelnvo/Desktop/hotelReservation/hotel-reservation/src/pages/BookingForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { DateForm } from '../components/DateForm';\nimport { StatBooking } from '../components/StatBooking';\nimport { GuestForm } from '../components/RoomDataForm';\nimport \"../css/bookingForm.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const BookingForm = ({\n  onDataChange,\n  onNext\n}) => {\n  _s();\n  const today = new Date().toISOString().split('T')[0];\n  const [date, setDate] = useState({\n    checkIn: today,\n    checkOut: today\n  });\n  const [inputClicked, setInputClicked] = useState(false);\n  const inicialRooms = new Map();\n  inicialRooms.set(1, {\n    adultCount: 1,\n    child: {\n      childCount: 0,\n      ages: []\n    }\n  });\n  const inicialReservationData = {\n    date: {\n      checkIn: today,\n      checkOut: today\n    },\n    rooms: inicialRooms,\n    guest: {\n      name: '',\n      lastName: '',\n      email: '',\n      phone: ''\n    }\n  };\n  const [reservationData, setReservationData] = useState(inicialReservationData);\n  const hanledSubmit = () => {\n    onDataChange(reservationData);\n    onNext();\n  };\n  const addNewRoom = () => {\n    const newRoom = {\n      adultCount: 1,\n      child: {\n        childCount: 0,\n        ages: []\n      }\n    };\n    const newRooms = new Map(reservationData.rooms);\n    newRooms.set(reservationData.rooms.size + 1, newRoom);\n    setReservationData(prev => ({\n      ...prev,\n      rooms: newRooms\n    }));\n  };\n  const handleGuestCountChange = (index, field, value) => {\n    setReservationData(prev => {\n      const updateRooms = new Map(prev.rooms);\n      const updateRoom = updateRooms.get(index);\n      if (updateRoom) {\n        if (field === 'adultCount') {\n          updateRoom.adultCount = value;\n        } else if (field === 'childCount') {\n          updateRoom.child.childCount = value;\n        }\n        updateRooms.set(index, updateRoom);\n        return {\n          ...prev,\n          rooms: updateRooms\n        };\n      }\n      return prev;\n    });\n  };\n  const handleClickedInput = input => {\n    setInputClicked(input);\n  };\n  const handleChildAgeChange = (index, ages) => {\n    setReservationData(prev => {\n      const updateRooms = new Map(prev.rooms);\n      const roomToUpdate = updateRooms.get(index);\n      if (roomToUpdate) {\n        roomToUpdate.child.ages = ages;\n        updateRooms.set(index, roomToUpdate);\n        return {\n          ...prev,\n          rooms: updateRooms\n        };\n      }\n      return prev;\n    });\n  };\n  const handleDeleteRoom = index => {\n    setReservationData(prev => {\n      const updateRooms = new Map(reservationData.rooms);\n      updateRooms.delete(index);\n      return {\n        ...prev,\n        rooms: updateRooms\n      };\n    });\n  };\n  const handleDateChange = (field, value) => {\n    setDate(prevDate => ({\n      ...prevDate,\n      [field]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"BookingForm flex\",\n    children: [/*#__PURE__*/_jsxDEV(DateForm, {\n      date: date,\n      onDateChange: handleDateChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(StatBooking, {\n      rooms: reservationData.rooms,\n      onClickedInput: handleClickedInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: hanledSubmit,\n      children: \"booking\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this), inputClicked && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(GuestForm, {\n        rooms: reservationData.rooms,\n        onHandleGuestCountChange: handleGuestCountChange,\n        onDeleteRoom: handleDeleteRoom,\n        onChildAgesChange: handleChildAgeChange,\n        onAddRoom: addNewRoom\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setInputClicked(false),\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 9\n  }, this);\n};\n_s(BookingForm, \"21Ov/pvSjL/QwGBsdxWbTH0vXWY=\");\n_c = BookingForm;\nvar _c;\n$RefreshReg$(_c, \"BookingForm\");","map":{"version":3,"names":["React","useState","DateForm","StatBooking","GuestForm","jsxDEV","_jsxDEV","Fragment","_Fragment","BookingForm","onDataChange","onNext","_s","today","Date","toISOString","split","date","setDate","checkIn","checkOut","inputClicked","setInputClicked","inicialRooms","Map","set","adultCount","child","childCount","ages","inicialReservationData","rooms","guest","name","lastName","email","phone","reservationData","setReservationData","hanledSubmit","addNewRoom","newRoom","newRooms","size","prev","handleGuestCountChange","index","field","value","updateRooms","updateRoom","get","handleClickedInput","input","handleChildAgeChange","roomToUpdate","handleDeleteRoom","delete","handleDateChange","prevDate","className","children","onDateChange","fileName","_jsxFileName","lineNumber","columnNumber","onClickedInput","onClick","onHandleGuestCountChange","onDeleteRoom","onChildAgesChange","onAddRoom","_c","$RefreshReg$"],"sources":["/Users/ismaelnvo/Desktop/hotelReservation/hotel-reservation/src/pages/BookingForm.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { date } from '../interfaces/BookedDate'\nimport { DateForm } from '../components/DateForm';\nimport { StatBooking } from '../components/StatBooking';\nimport { GuestForm } from '../components/RoomDataForm';\nimport { Room } from '../interfaces/Room';\nimport { resevationData } from '../interfaces/ReservationData';\nimport \"../css/bookingForm.css\"\ntype field = \"adultCount\" | \"childCount\";\ninterface BookedFormProps {\n    onDataChange: (data: resevationData) => void;\n    onNext: () => void;\n}\nexport const BookingForm: React.FC<BookedFormProps> = ({ onDataChange, onNext }) => {\n    const today = new Date().toISOString().split('T')[0];\n    const [date, setDate] = useState<date>({ checkIn: today, checkOut: today });\n    const [inputClicked, setInputClicked] = useState<boolean>(false);\n    const inicialRooms = new Map<number, Room>();\n    inicialRooms.set(1, { adultCount: 1, child: { childCount: 0, ages: [] } });\n\n    const inicialReservationData: resevationData = {\n        date: { checkIn: today, checkOut: today },\n        rooms: inicialRooms,\n        guest: { name: '', lastName: '', email: '', phone: '' }\n    }\n    const [reservationData, setReservationData] = useState<resevationData>(inicialReservationData);\n    const hanledSubmit = () => {\n        onDataChange(reservationData);\n        onNext();\n    }\n\n    const addNewRoom = () => {\n        const newRoom: Room = {\n            adultCount: 1,\n            child: { childCount: 0, ages: [] }\n        }\n        const newRooms = new Map(reservationData.rooms);\n        newRooms.set(reservationData.rooms.size + 1, newRoom);\n        setReservationData(prev => ({\n            ...prev,\n            rooms: newRooms\n        }))\n    }\n    const handleGuestCountChange = (index: number, field: field, value: number) => {\n        setReservationData(prev => {\n            const updateRooms = new Map(prev.rooms);\n            const updateRoom = updateRooms.get(index);\n            if (updateRoom) {\n                if (field === 'adultCount') {\n                    updateRoom.adultCount = value;\n                } else if (field === 'childCount') {\n                    updateRoom.child.childCount = value;\n                }\n                updateRooms.set(index, updateRoom);\n                return {\n                    ...prev,\n                    rooms: updateRooms\n                }\n\n            }\n            return prev\n        });\n    }\n    const handleClickedInput = (input: boolean) => {\n        setInputClicked(input);\n    }\n    const handleChildAgeChange = (index: number, ages: number[]) => {\n        setReservationData(prev => {\n            const updateRooms = new Map(prev.rooms);\n            const roomToUpdate = updateRooms.get(index);\n            if (roomToUpdate) {\n                roomToUpdate.child.ages = ages;\n                updateRooms.set(index, roomToUpdate);\n                return {\n                    ...prev,\n                    rooms: updateRooms\n                }\n            }\n            return prev\n        })\n    }\n    const handleDeleteRoom = (index: number) => {\n        setReservationData(prev => {\n            const updateRooms = new Map(reservationData.rooms);\n            updateRooms.delete(index);\n            return {\n                ...prev,\n                rooms: updateRooms\n            }\n        })\n    }\n\n\n    const handleDateChange = (field: keyof date, value: string) => {\n        setDate(prevDate => ({\n            ...prevDate,\n            [field]: value\n        }))\n    }\n    return (\n        <div className='BookingForm flex'>\n            <DateForm\n                date={date}\n                onDateChange={handleDateChange}\n            />\n            <StatBooking\n                rooms={reservationData.rooms}\n                onClickedInput={handleClickedInput}\n            />\n\n            <button onClick={hanledSubmit}>booking</button>\n\n            {inputClicked && <><GuestForm\n                rooms={reservationData.rooms}\n                onHandleGuestCountChange={handleGuestCountChange}\n                onDeleteRoom={handleDeleteRoom}\n                onChildAgesChange={handleChildAgeChange}\n                onAddRoom={addNewRoom}\n            />\n                <button onClick={() => setInputClicked(false)} >Next</button>\n            </>\n            }\n        </div>\n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}